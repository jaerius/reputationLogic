### 시작

npm install
npm run example

### 사용되는 알고리즘

#### 커뮤니티 계산

* louvain :
	 초기 설정 : 모든 노드가 개별 커뮤니티에 속하는 것으로 시작
	 로컬 최적화 : 각 노드는 자신의 이웃 노드와 커뮤니티를 변경하여 모듈성을 증가시킬 수 있는지 평가(모듈성이 커지는 커뮤니티로 이동)
	 모듈성 계산 : 
	$$
Q = \frac{1}{2m} \sum_{ij} \left[ A_{ij} - \frac{k_i k_j}{2m} \right] \delta(c_i, c_j)
$$

- \( Q \)는 모듈성 값입니다.
- \( m \)은 그래프의 전체 엣지 weight의 합입니다.
- \( A_{ij} \)는 노드 \( i \)와 노드 \( j \) 사이의 엣지 weight입니다. 엣지가 없는 경우 \( A_{ij} = 0 \)입니다.
- \( k_i \)와 \( k_j \)는 각각 노드 \( i \)와 \( j \)의 degree (즉, 연결된 엣지 weight의 합)입니다.
- \( \delta(c_i, c_j) \)는 노드 \i \와 \( j \)가 같은 커뮤니티에 있을 때 1, 그렇지 않으면 0을 반환하는 함수입니다.


* 카르텔이 여러개 존재한다면 서로를 구분할 수 있나?
	 강한 내부 연결성, 약한 외부 연결성으로 구분 가능함

#### 중앙 집중도 계산

 * degree : 
	특정 노드에 연결된 다른 노드의 수 -> 얼마나 많이 직접적으로 연결되어 있나

* closeness : 
	특정 노드가 다른노드와 얼마나 가깝나 (최단 경로 길이 합의 역수) -> fake wallet의 경우 평가가 내려지지 않아서 weight가 하나도 없기 때문에 값이 없어서 fake wallet을 찾기 쉬워진다

* pageRank : 
	==중요한 페이지에서 링크된 페이지가 더 중요하다== => 특정 노드에 중요한 노드들이 많이 연결되어 있으면 그 노드의 pageRank값이 높아진다 
	fake wallet이 있으면 한 페이지로 링크가 걸린다.(인바운드 링크 높아짐 -> pageRank 높아짐)

* betweeness :
	
	fake wallet으로 인해 weight가 증가하고, 네트워크에서 더 중요한 노드로 간주되어 많은 최단 경로가 이 노드를 통과하게 된다 -> betweenness 상승

#### 이상치 계산
	
	평균에서 2 표준편차 이상 벗어난 경우를 이상치로 간주
	평균 ± 2 표준 편차 : 95% 가량 포함
	따라서 상위 2.25, 하위 2.25를 이상치로 판단
	


### Flow

1. User 100명과 가짜 지갑 20개를 생성  
2. User1 ~ 6은 서로 점수 만점 부여(=malicious user)
3. 가짜 지갑은 malicious user에게 만점 부여
4. malicious user가 그 외의 다른 유저에게는 10점 부여
5. 그 외 다른 유저들은 서로 랜덤하게 점수 부여

#### Detect Logic

1. 모든 노드의 pageRank, Degree Centrality, closeness Centrality, betweeness Centrality의 이상치를 표준편차 기반으로 계산
2. 하나라도 해당되는 노드의 커뮤니티를 Louvain 커뮤니티를 이용해 탐지 (=> mal user와 fake wallet이 커뮤니티를 이룸)
3. 해당 노드에 90점 이상을 준 노드들을 찾아서 highInteractions로 구분
4. highInteractions이 기준 이상 반복되며 같은 커뮤니티에 속하면 mal user로 구분

#### Logic의 한계

1. 표준 편차 기반으로 이상치를 탐지하므로 노드들이 작게 담합을 하면 걸릴 확률이 줄어든다
2. highInteractions의 명확한 기준 재정립 필요
3. 기준이 되는 알고리즘 정확한 이해 필요



### 1. Community Detection (커뮤니티 탐지)

#### 시나리오 1: 여러 지갑을 생성하여 평판을 인위적으로 높이는 경우

**상황**:

- 사용자 A는 다수의 가짜 지갑 (A1, A2, A3, ...)을 생성합니다.
- A는 각 가짜 지갑을 사용하여 자신(A)에게 높은 평판을 줍니다.
- 이로 인해 A의 평판이 비정상적으로 높아집니다.

**탐지 방법**:

- **Louvain Method**: 그래프에서 모듈성을 기반으로 커뮤니티를 탐지합니다. A와 가짜 지갑들이 형성하는 커뮤니티는 비정상적으로 높은 모듈성을 가질 수 있습니다.
- **Girvan-Newman Algorithm**: 엣지 중점성을 계산하여 커뮤니티를 분리합니다. A와 가짜 지갑들이 형성한 작은 그룹을 집중 조사합니다.

#### 시나리오 2: 특정 그룹이 서로 평판을 좋게 평가하는 경우

**상황**:

- 사용자 B, C, D가 서로 높은 평판을 줍니다.
- 이들은 서로의 평판을 인위적으로 높여 시스템을 악용합니다.
- B, C, D는 각자의 평판을 높이기 위해 반복적으로 서로를 평가합니다.

**탐지 방법**:

- **Louvain Method**: B, C, D가 형성하는 커뮤니티를 탐지하고, 이 그룹의 모듈성을 분석하여 비정상적으로 높은 모듈성을 가진 그룹을 찾아냅니다.
- **Girvan-Newman Algorithm**: 엣지 중점성을 계산하여 B, C, D 간의 비정상적인 상호 평가 패턴을 발견합니다.

### 2. Anomaly Detection (이상치 탐지)

#### 시나리오 3: 비정상적으로 높은 PageRank를 가진 노드

**상황**:

- 사용자 E는 여러 가짜 계정을 통해 자신에게 높은 평판을 줍니다.
- PageRank 알고리즘을 통해 E의 중요도가 비정상적으로 높게 계산됩니다.

**탐지 방법**:

- **PageRank**: 평판 그래프에서 각 노드의 중요도를 계산하고, E의 PageRank가 비정상적으로 높은 경우 이를 탐지하여 조사를 시작합니다.

#### 시나리오 4: 비정상적으로 높은 중심성을 가진 노드

**상황**:

- 사용자 F는 다른 사용자들과의 빈번한 상호작용을 통해 평판을 인위적으로 높입니다.
- F의 노드는 Degree, Closeness, Betweenness와 같은 중심성 지표에서 비정상적으로 높은 값을 가집니다.

**탐지 방법**:

- **Node Centrality Measures**: 그래프에서 각 노드의 중심성 지표를 계산하고, F의 중심성 값이 다른 노드들과 비교했을 때 비정상적으로 높은 경우 이를 탐지하여 조사를 시작합니다.
